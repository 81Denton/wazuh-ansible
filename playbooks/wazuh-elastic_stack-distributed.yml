---

- hosts: 172.16.0.161
  roles:
    - role: /etc/ansible/roles/wazuh-ansible/roles/elastic-stack/ansible-elasticsearch
      elasticsearch_network_host: 172.16.0.161
      elasticsearch_bootstrap_node: true
      elasticsearch_cluster_nodes:
      - 172.16.0.161
      node_generate_certs: true
      node_name: node-1
      elasticsearch_xpack_security: true

  vars:
    instances:
      - name: node1
        ip: 172.16.0.161

      - name: node2
        ip: 172.16.0.162

      - name: node3
        ip: 172.16.0.163

- hosts: 172.16.0.162
  roles:
    - role: /etc/ansible/roles/wazuh-ansible/roles/elastic-stack/ansible-elasticsearch
      elasticsearch_network_host: 172.16.0.162
      elasticsearch_discovery_nodes:
        - 172.16.0.161
        - 172.16.0.162
        - 172.16.0.163
  
- hosts: 172.16.0.163
  roles:
    - role: /etc/ansible/roles/wazuh-ansible/roles/elastic-stack/ansible-elasticsearch 
      elasticsearch_network_host: 172.16.0.163
      elasticsearch_discovery_nodes:
        - 172.16.0.161
        - 172.16.0.162
        - 172.16.0.163

